<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet">
    <title>首页</title>
    <script crossorigin="anonymous"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
    <script>
        var iframeId;

        window.onload = function () {
            iframeId = document.getElementById('external-frame');
            setIframeHeight(iframeId);
            setIframe('soft');
        };

        function setIframeHeight(iframeId) {
            iframeId.height = document.documentElement.clientHeight;
        }

        window.onresize = function () {
            setIframeHeight();
        };

        function setIframe(urlSrc) {
            var navArray = ["home", "soft", "about"];
            for (var i in navArray) {
                if (navArray[i] == urlSrc) {
                    $('#' + navArray[i]).addClass("active");
                } else {
                    $('#' + navArray[i]).removeClass("active");
                }
            }
            if (urlSrc == 'soft') {
                iframeId.setAttribute("scrolling", "yes");
            }
            iframeId.setAttribute("src", "./" + urlSrc + ".html");
        }

        $(function () {
            var ie6 = /msie 6/i.test(navigator.userAgent)
                , dv = $('#fixedMenu'), st;
            dv.attr('otop', dv.offset().top); //存储原来的距离顶部的距离
            $(window).scroll(function () {
                st = Math.max(document.body.scrollTop || document.documentElement.scrollTop);
                if (st >= parseInt(dv.attr('otop'))) {
                    if (ie6) {//IE6不支持fixed属性，所以只能靠设置position为absolute和top实现此效果
                        dv.css({position: 'absolute', top: st});
                    } else if (dv.css('position') != 'fixed') dv.css({'position': 'fixed', top: 0, width: "100%"});
                } else if (dv.css('position') != 'static') dv.css({'position': 'static'});
            });
        });
    </script>
    <style>
        body {
            padding-top: 10px;
            padding-bottom: 10px
        }
    </style>
</head>

<div id="fixedMenu">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">GorhamChan</a>
        <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
                class="navbar-toggler navbar-toggler-right"
                data-target="#navbarSupportedContent" data-toggle="collapse" type="button">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item" id="home">
                    <a class="nav-link" onclick="setIframe('home')">首页</a>
                </li>
                <li class="nav-item dropdown" id="soft">
                    <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle"
                       data-toggle="dropdown"
                       href="#"
                       id="navbarDropdown" role="button">
                        软件分享
                    </a>
                    <div aria-labelledby="navbarDropdown" class="dropdown-menu">
                        <a class="dropdown-item" onclick="setIframe('soft')">Windows平台</a>
                        <a class="dropdown-item" onclick="setIframe('soft')">Android平台</a>
                    </div>
                </li>
                <li class="nav-item" id="about">
                    <a class="nav-link" onclick="setIframe('about')">关于</a>
                </li>
            </ul>
        </div>
    </nav>
</div>

<body>

<iframe frameborder="0"
        height="100%" id="external-frame" name="topFrame" onload="setIframeHeight(this)" scrolling="no"
        width="100%">
</iframe>

</body>

<div class="container-md">
    <div align="center" id="copyright">
        <span>&copy;2020 GorhamChan &nbsp;如有侵权，请联系GorhamChan@163.com删除</span>
    </div>
</div>

</html>